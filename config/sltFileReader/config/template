# Explain keyword

# index:
# Should the field be searchable? Accepts true (default) and false. 

# eager_global_ordinals:
# Should global ordinals be loaded eagerly on refresh? Accepts true or false (default). Enabling this is a good idea on fields that are frequently used for terms aggregations. 

# ignore_above:
# Do not index any string longer than this value. Defaults to 2147483647 so that all values would be accepted.Please however note that default dynamic mapping rules create a sub keyword field that overrides this default by setting ignore_above: 256. 

# index_options:
# What information should be stored in the index, for scoring purposes. Defaults to docs but can also be set to freqs to take term frequency into account when computing scores. 

# norms:
# Whether field-length should be taken into account when scoring queries. Accepts true or false (default)

# those are all string type  
# context, units, structureName, componentHash, bitValues, segmentName, expression, name, description, failingArrayName, hostName, queriedTests, results, status


# number type list
# BinType, DocCnt, GrossTime, HBin, KDFDate, KDFMonth ,SBin,Site,TestTime ,TransferTime ,UnitCnt,WaferNumber,X,Y,alarm,result,value 

#  long: A signed 64-bit integer with a minimum value of -263 and a maximum value of 263-1
#  integer: A signed 32-bit integer with a minimum value of -231 and a maximum value of 231-1
#  short :A signed 16-bit integer with a minimum value of -32,768 and a maximum value of 32,767. 
#  byte: A signed 8-bit integer with a minimum value of -128 and a maximum value of 127.
#  double: A double-precision 64-bit IEEE 754 floating point number, restricted to finite values
#  float: A single-precision 32-bit IEEE 754 floating point number, restricted to finite values  
#  half_float: A half-precision 16-bit IEEE 754 floating point number, restricted to finite values. 
#  scaled_float: A finite floating point number that is backed by a long, scaled by a fixed double scaling factor. 

# BE CAREFUL about the dynamic field sequence

#[------date type, cnt = 7 -------]

# @timestamp   	date 					
# DoneTime   	date 					
# EndTestTime   	date 					
# FileTime   	date 					
# LotEndTime   	date 					
# LotStartTime   	date 					
# StartTestTime   	date 					
# TransferTime   	date

#[------keyword type, cnt = 45 -------]
#    	string 					
# DIE_2   	string 					
# DIE_3   	string 					
# Device   	string 					
# Dib   	string 					
# DieType   	string 					
# FileName   	string 					
# HBin   	string 					
# HBinDesc   	string 					
# KDFName   	string 					
# LotNumber   	string 					
# MasterDieId   	string 					
# MfgStep   	string 					
# Operation   	string 					
# PartNumber   	string 					
# Pattern   	string 					
# Pin   	string 					
# Program   	string 					
# ProgramVersion   	string 					
# SBin   	string 					
# SBinDesc   	string 					
# Site   	string 					
# TestCode   	string 					
# Tester   	string 					
# Type   	string 					
# UnitId   	string 					
# WaferLot   	string 					
# baseClass   	string 					
# bistControllerId   	string 					
# comClass   	string 					
# comName   	string 					
# context   	string 					
# expression   	string 					
# failingArrayName   	string 					
# failingMacroId   	string 					
# failingMacroSubId   	string 					
# generatedTestName   	string 					
# hostName   	string 					
# name   	string 					
# queriedTests   	string 					
# queryType   	string 					
# segmentName   	string 					
# status   	string 					
# structureName   	string 					
# subClass   	string 					
# units   	string
# description   	string 	

#[------text type, cnt = 4 -------]
# bitValues   	string 					
# componentHash   	string 					
# highSpecLimit   	string 					
# lowSpecLimit   	string 					


#[------number type, cnt = 29 -------]
# BinType   	number 					
# DocCnt   	number 					
# GrossTime   	number 					
# KDFDate   	number 					
# KDFMonth   	number 					
# TestTime   	number 					
# UnitCnt   	number 					
# UnitSeq   	number 					
# WaferNumber   	number 					
# X   	number 					
# Y   	number 					
# alarm   	number 					
# connectTime   	number 					
# connectTimeout   	number 					
# cycle   	number 					
# endTimestamp   	number 					
# networkError   	number 					
# portNumber   	number 					
# queryTimeout   	number 					
# recvTime   	number 					
# repCount   	number 					
# result   	number 					
# sequence   	number 					
# startTimestamp   	number 					
# timeout   	number 					
# timestamp   	number 					
# totalQueryTime   	number 					
# value   	number 					
# vector   	number

PUT _template/all-test
{
  "order": 0,
    "version": 1001,
    "index_patterns": [
      "wafer-sort-test-*",
      "slt-test-*",
      "ft-test-*"
    ],
    "settings": {
      "index": {
        "number_of_shards": "3",
        "number_of_replicas": "2",
        "refresh_interval": "30s"
      }
    },
    "mappings": {
      "doc": {
        "date_detection": false,
        "numeric_detection": true,
        "dynamic": true,
        "properties": {
          "@timestamp": {
            "type": "date"
          },
          "@version": {
            "type": "keyword"
          }
        },
        "dynamic_templates": [
          {
          "date_1": {
            "match": "DoneTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "date_2": {
            "match": "EndTestTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "date_3": {
            "match": "FileTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "date_4": {
            "match": "LotEndTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "date_5": {
            "match": "LotStartTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "date_6": {
            "match": "StartTestTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         {
          "date_7": {
            "match": "TransferTime",
            "mapping": {
              "type": "date"
            }
          }
         },
         
         
         
         
         
         {
          "key_word_1": {
            "match": "WaferLot",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_2": {
            "match": "LotNumber",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_3": {
            "match": "DIE_1",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_4": {
            "match": "DIE_2",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_5": {
            "match": "DIE_3",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_6": {
            "match": "DataType",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_7": {
            "match": "Device",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_8": {
            "match": "Dib",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_9": {
            "match": "FileName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_10": {
            "match": "HBin",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_11": {
            "match": "HBinDesc",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_12": {
            "match": "KDFName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_13": {
            "match": "MfgStep",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_14": {
            "match": "Operation",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_15": {
            "match": "PartNumber",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_16": {
            "match": "Pattern",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_17": {
            "match": "Pin",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_18": {
            "match": "Program",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_19": {
            "match": "ProgramVersion",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_20": {
            "match": "SBin",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_21": {
            "match": "SBinDesc",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_22": {
            "match": "Site",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_23": {
            "match": "TestCode",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_24": {
            "match": "Tester",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_25": {
            "match": "Type",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_26": {
            "match": "UnitId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_27": {
            "match": "baseClass",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_28": {
            "match": "comClass",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_29": {
            "match": "comName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_30": {
            "match": "context",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_31": {
            "match": "description",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_32": {
            "match": "expression",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_33": {
            "match": "failingArrayName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_34": {
            "match": "generatedTestName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_35": {
            "match": "name",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_36": {
            "match": "queriedTests",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_37": {
            "match": "segmentName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_38": {
            "match": "status",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_39": {
            "match": "structureName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_40": {
            "match": "subClass",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_41": {
            "match": "failingMacroId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_42": {
            "match": "failingMacroSubId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_43": {
            "match": "bistControllerId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_44": {
            "match": "units",
            "mapping": {
              "type": "keyword"
              
            }
          }
         },
         {
          "key_word_45": {
            "match": "hostName",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_46": {
            "match": "queryType",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_47": {
            "match": "DieType",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         {
          "key_word_48": {
            "match": "MasterDieId",
            "mapping": {
              "type": "keyword"
            }
          }
         },
         
         
         
         {
          "text_1": {
            "match": "bitValues",
            "mapping": {
              "type": "text"
            }
          }
         },
         {
          "text_2": {
            "match": "componentHash",
            "mapping": {
              "type": "text"
            }
          }
         },
         {
          "text_3": {
            "match": "highSpecLimit",
            "mapping": {
              "type": "text"
            }
          }
         },
         
         {
          "text_4": {
            "match": "lowSpecLimit",
            "mapping": {
              "type": "text"
            }
          }
         },
         
         
         
         
         
         
         {
          "byte_1": {
            "match": "BinType",
            "mapping": {
              "type": "byte"
            }
          }
         },
         {
          "byte_2": {
            "match": "WaferNumber",
            "mapping": {
              "type": "byte"
            }
          }
         },
         {
          "byte_3": {
            "match": "X",
            "mapping": {
              "type": "byte"
            }
          }
         },
         {
          "byte_4": {
            "match": "Y",
            "mapping": {
              "type": "byte"
            }
          }
         },
         {
          "byte_5": {
            "match": "alarm",
            "mapping": {
              "type": "byte"
            }
          }
         },
          {
          "byte_6": {
            "match": "timeout",
            "mapping": {
              "type": "byte"
            }
          }
         },
         {
          "byte_7": {
            "match": "result",
            "mapping": {
              "type": "byte"
            }
          }
         },
         {
          "byte_8": {
            "match": "networkError",
            "mapping": {
              "type": "byte"
            }
          }
         },
         
         
         
         
         
         {
          "short_1": {
            "match": "UnitCnt",
            "mapping": {
              "type": "short"
            }
          }
         },
         {
          "short_2": {
            "match": "UnitSeq",
            "mapping": {
              "type": "short"
            }
          }
         },
         {
          "short_3": {
            "match": "connectTimeout",
            "mapping": {
              "type": "short"
            }
          }
         },
         {
          "short_4": {
            "match": "queryTimeout",
            "mapping": {
              "type": "short"
            }
          }
         },
        
         {
          "short_5": {
            "match": "portNumber",
            "mapping": {
              "type": "short"
            }
          }
         },
         
         
         
         
         
         {
          "float_1": {
            "match": "value",
            "mapping": {
              "type": "float"
            }
          }
         },
         {
          "float_2": {
            "match": "TestTime",
            "mapping": {
              "type": "float"
            }
          }
         },
         {
          "float_3": {
            "match": "connectTime",
            "mapping": {
              "type": "float"
            }
          }
         },
         {
          "float_4": {
            "match": "recvTime",
            "mapping": {
              "type": "float"
            }
          }
         },
         {
          "float_5": {
            "match": "totalQueryTime",
            "mapping": {
              "type": "float"
            }
          }
         },
         
         
         {
          "integer_1": {
            "match": "DocCnt",
            "mapping": {
              "type": "integer"
            }
          }
         },
         
         {
          "integer_2": {
            "match": "KDFDate",
            "mapping": {
              "type": "integer"
            }
          }
         },
         {
          "integer_3": {
            "match": "KDFMonth",
            "mapping": {
              "type": "integer"
            }
          }
         },
         {
          "integer_4": {
            "match": "GrossTime",
            "mapping": {
              "type": "integer"
            }
          }
         },
         {
          "integer_5": {
            "match": "cycle",
            "mapping": {
              "type": "integer"
            }
          }
         },
         {
          "integer_6": {
            "match": "vector",
            "mapping": {
              "type": "integer"
            }
          }
         },
         {
          "integer_7": {
            "match": "repCount",
            "mapping": {
              "type": "integer"
            }
          }
         },
          {
          "integer_8": {
            "match": "sequence",
            "mapping": {
              "type": "integer"
            }
          }
         },
         
         
         
         {
          "long_1": {
            "match": "timestamp",
            "mapping": {
              "type": "long"
            }
          }
         },
         {
          "long_2": {
            "match": "endTimestamp",
            "mapping": {
              "type": "long"
            }
          }
         },
         {
          "long_3": {
            "match": "startTimestamp",
            "mapping": {
              "type": "long"
            }
          }
         },
         
         {
          "integers": {
            "match_mapping_type": "long",
            "mapping": {
              "type": "text"
            }
          }
         },
         {
          "float": {
            "match_mapping_type": "double",
            "mapping": {
              "type": "float"
            }
          }
         },
         {
            "string_fields": {
              "match_mapping_type": "string",
              "mapping": {
                "type": "text"
              }
            }
          }
         
        ]
      }
    },
    "aliases": {}
  }

PUT _ingest/pipeline/ft-test
{
 "description": "to parse the filebeat message",
    "processors": [
      {
        "kv": {
          "field": "message",
          "field_split": ",",
          "value_split": "="
        }
      },
      {
        "remove": {
          "field": [
            "message",
            "source",
            "offset",
            "prospector",
            "beat"
          ]
        }
      },
      {
        "date_index_name": {
          "field": "FileTime",
          "index_name_prefix": "ft-test-",
          "date_rounding": "M"
        }
      }
    ]
  
}


  
PUT _ingest/pipeline/wafer-sort-test
{
 "description": "to parse the filebeat message",
    "processors": [
      {
        "kv": {
          "field": "message",
          "field_split": ",",
          "value_split": "="
        }
      },
      {
        "remove": {
          "field": [
            "message",
            "source",
            "offset",
            "prospector",
            "beat"
          ]
        }
      },
      {
        "date_index_name": {
          "field": "FileTime",
          "index_name_prefix": "wafer-sort-test-",
          "date_rounding": "M"
        }
      }
    ]
  
}


  
PUT _ingest/pipeline/slt-test
{
 "description": "to parse the filebeat message",
    "processors": [
      {
        "kv": {
          "field": "message",
          "field_split": ",",
          "value_split": "="
        }
      },
      {
        "remove": {
          "field": [
            "message",
            "source",
            "offset",
            "prospector",
            "beat"
          ]
        }
      },
      {
        "date_index_name": {
          "field": "FileTime",
          "index_name_prefix": "slt-test-",
          "date_rounding": "M"
        }
      }
    ]
  
}
